version: 0.4
name: memtier_benchmark-playbook-leaderboard-top-100
description: Runs memtier_benchmark, for a keyspace length of 10K keys loading/querying ZSETs. Esports/live events with constant score changes, occasional bursts of reads. writes ≈ 60, reads ≈ 40%.
  with encoding:skiplist with 100 elements.

dbconfig:
  configuration-parameters:
    save: '""'
  check:
    keyspacelen: 10000
  resources:
    requests:
      memory: 1g
  init_lua: |
    local seed = 12345
    math.randomseed(seed)
    local function rand_str(len)
      local chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'
      local res = ''
      for i = 1, len do
        local idx = math.random(#chars)
        res = res .. chars:sub(idx, idx)
      end
      return res
    end
    -- Pre-generate 100 score-member pairs
    local score_member_pairs = {}
    for i = 1, 100 do
      local member = rand_str(5 + (i % 100))
      local score = math.random()
      table.insert(score_member_pairs, score)
      table.insert(score_member_pairs, member)
    end
    -- Use the same pairs for all keys
    for k = 1, 10000 do
      local key = tostring(k)
      local args = {key}
      for i = 1, #score_member_pairs do
        table.insert(args, score_member_pairs[i])
      end
      redis.call('ZADD', unpack(args))
    end
    
    return 'OK'


tested-commands:
- zadd
- zrevrange
redis-topologies:
- oss-standalone
build-variants:
- gcc:15.2.0-amd64-debian-bookworm-default
- gcc:15.2.0-arm64-debian-bookworm-default
- dockerhub
clientconfig:
  run_image: redislabs/memtier_benchmark:edge
  tool: memtier_benchmark
  arguments: --test-time 180 --key-prefix "" -c 50 -t 4 --command "ZADD __key__ 0.3479570710789212 n4mST4 0.1269842722113171 1zmQGj7 0.7361287822649483 axpOHLr4 0.49967623571850184 hMq6ApPeC 0.12911917880602142 b2OI9vcs9B 0.6721155451015176 4xbl6DLBgTh 0.3228822230933617 c7bcAV6IMOx3 0.17765798614251332 ACJdDg0xcUFoq 0.8334002894504928 dxdBdPrbPZcOJZ 0.5262324435292894 tpesg0ALZOzbgTM 0.13614433823905156 AiQW3w28WgF1tNmn 0.8397483796997687 AIGDWQlu9lcCv7FVa 0.9419645624896347 6tiW1mfJVu1A5UnUZT 0.9672700660150825 GTwc736z71DafnjtxzE 0.940967166303176 Qrmd23SOe6UzsjMv6s4h 0.977558829345535 xZfHx2U8l4LLiKQaNBYkX 0.49943386786590976 MSwMy4rYY9mrysaQ2tv2FU 0.11418084107068406 mNLOCNCDvHIB4cR0geCoidS 0.4928685731686971 Dh64JdaVWlFoNxtkyU2Fxgzx 0.22999180258717006 p82s4DlzpziUitn00idLleYq6 0.05798010484221396 rQTOusgNhIxS9COMJrUPrQvwba 0.48355849715115434 BWdvwu3XqKm7U11A5XRBctVaXPf 0.2871459342013793 wb7mcmhA91vmnhcW0FnPdDJFg9Yp 0.5688744567189712 hllX0yPgEGK8DAsas6ZiaFxn31DuU 0.16407589342634935 wEdlAZ8OrzuDrJn3ajJMzsb7UPsOCY 0.06410635172580664 VyQTlqMUY9C0f3iQ5hqT7cRIGmD492w 0.9998771031386579 epgwW0KhuDNB9j7DVChLRM4S7QwDJ85p 0.3213347528694825 OtY2Bh7Ik3QpuzNgaxmHpU6SkknazVqby 0.8904105317268569 nnHl8zBqXl8lz95uDm3DxMmPDuJ52uMfdh 0.7224907729413783 nbZz0tEtieNVnCaXMRyy1947ASWCVsdKcoR 0.4732821688397239 0rou7dHpM1zN6iVsTRKvNOCYy6nr6tu9YPmC 0.4457151225980907 gPAwy9yeYSbzqy1IoBwlPdl6Yutjrf53T5CKj 0.2823997164528816 oizdmTjr5n7mUx1ZweNrvT38VJXLKua9WjjnZv 0.4578971594841672 Kp6IiaVNfW3oQFQ2YyWrk1h8ZKG9IAmBFCTc1lG 0.24865262082249515 kNfqOPGec9ahdarGd6frJ7Dej3F6Hk6NJBjc3apl 0.5717031469436843 smDYhibBXyCVn57VbNm7SztEzvgKB3scvJ3jB132p 0.5362880409398526 yK3WqGdcjURnIbFHWwj9dZDv1z2EgK8pTRi4yxiWym 0.45053541029362726 TUV9FcnIE37xit7XpwalqQJWLoHUoIu3tl3Aa9MKK5Q 0.9537730524101169 hLczqCCLuetcNufRJaKEN7PopYExg7Cf7wvDIFAcFTX4 0.5215149100504419 uhq9IMoQ8J2xEydOaeuDWqLqqTZKfjeItdbp33yowSqiW 0.23009872773201145 pvhpzdY04zvpavruCjICW2prod82jGbaCCM3V61onPEEoT 0.020185122741472498 ro2bbkPOzGzpZDZo9ozK3YaqbJXVVFVvbJWwkx8xiMBkBXH 0.789217082219765 7m14MpKxbxd3tRMtyZGQQIjiVA0M4VIV38izXkZB53mqVSkt 0.3830010613347409 FTS9r2yoYr0SCzQSVJQvN97vpNxUP2CtGE0BXMuncsr3cTbE7 0.8173461839637468 8ybq40W6X5AiJmtOEAr6aiHYB5bTr2FCMo5MFteRG2EXoIvoup 0.36992657248393007 aqd0kq495JG8IVO0kYsiT9RdzmozI75E0SFUWCB7ZXDVzJctASP 0.9979032874097598 zxqoyapmGvZi4zqIsxTdalRVBD10rbsSLJr5h9oVRRgouW5XwWz8 0.30324518741259593 MKlksbAQUeBPEdDYHvxzgeEEiFY6jHPMmB9rkHTkF1r7b27uRucTP 0.5473636763856577 yqy42qdC1iRksHtd2doZfBrwI58aHDxTRLGrpk0UVZqWDgZS6A2U45 0.19827349446633527 ntTJ1jdEAU1esQoF5ND2jr2e5b5EOKnF9cp0mYxIwSpBw0r3xIfoNKp 0.3615828675039033 xdjrCNamuLOemcFf6UquUtM7e5RwZjVtbdcb34RkmwaFQmJYA8jWGxRF 0.7149433417780993 BxBsaqRrxPCDs2wIes2WOlFlEsHLAz7QInNx77TllqjYrXz9VEZlktJXc 0.6128264482192818 7Aq6FuxOcdL4W05BjXMExZppkyoL963Ck3Uqx8zRFUDI2UnTjsW39vEU6O 0.21574609131354192 amvtiZ0M8DHrGVrSGxAHwMPJEEkRniQZgrnlqjTKcgKL6wV5Et8xlsSCoT8 0.784106966473212 zEh5Ja6r0JdGQffXn0JHHV1rhKKdUcAh9S7dArqPRIX5w9410ZAln8NpECaB 0.06461973305075416 tmTV5DAuzLVghMJRTxtQor0xCde9pGMn1yOTHnfQW7JdEmAMmTcZGI5MZ2fHX 0.6767582184061214 Ieyd2mnM85y4F6InPCzUng9i7DLkQVPDQg88yDuB5zPox1qFagLbipiMxqWuyv 0.9925745492766492 z4E2QUWN72MqNdra3gAYJuGbv5LANU9xl1hFSpWqf88i9nsYhwyGbssVXcV1BMt 0.451600740408339 a7Xzafi7bbZIWZxMFVSPrTZaR6CbZuvnjHm5N90X6RoweNLvT9eWJqeCyULEiq3I 0.19557103384079924 WVrM9I1tnYpMCz3vV0B9S0JgiDySyFB1WoukJPPeSyqJG2pquJ4O6Xewg5pOgy2qz 0.6299161522788537 A23xBG6VqnzAkkmUfed0WrA3PX45buvpqDMIhjalPztjp0jzLruCqk73VNRbfMTlSx 0.3009917923719584 Ko8hahcUEBungplDoWVWdRDXltYlVK5v4D9EiHhGM3ipJFKKI55o9XHsvmixJFDaRok 0.6178825505161111 F66udymp2IDAzVcNeVyFz1Z4wN5HkWvSwQ2zie4wlmdAnLRdXMlPSKa5LEtx4vYdQLpc 0.3294048846370563 Q4Meu7c9kiNFLrJ8GyUEQ03c415uCY5fe3vzymUzCfd7WQKpPCDcR1Qw72MvqrDNBpuXu 0.911197205964102 BpfpHHT2IBYHJSKwJfWCtb7J9sMUKNEvFMoi5r2CkX5rtqYxF13eTb97SQi4cJ9ZmVaTzs 0.30779601228786446 kj0Cdt5V7au2XFwqe3zyEO1oTYILwprWRZyeV4ZT9NVBD2AZTEYJXD0PEfzSvjw56PetFI9 0.10784819354668641 N8y5fuYgLeuM7oAWXvoWfM086jVMWjlvLP61BGo2Xyng40VwLdCFRfLNzLOzBwMAa2Mdh3oN 0.6025131342944284 ab9Pu04Z5spi3io2skCnZJNg6v2V2c0BMlsfVqEwGeM9ctnsKMu7AEjIvN2HTdGQGK02MaESz 0.7657807389114893 5K01FGAHaGwx6OYDPdVRTXTkOtjud4Z665yCQbJZXwxHrd8dixBRuClBK6jMqf05z13OeJHTrP 0.3972339776331717 GEy6u5DRYUUSnMiPGaBco5bPsQliwGsCKBCEGv0tfaJb7tVrZUNWiJjrZ78HnCn5nptjEtHuALc 0.5158135888706025 N4vlXZT2YZbjiEtopu0rnQ1734vFPZFHgTRZjMM6zw5uqEZx1ITc45AkD8xcg3Ua2d4HGAXbKeM0 0.12644551048355435 r0bBCld0aVzYqYiCzO2JwNDNeYdZ4ZeOuFT7BvvKwf9zId2lXa9QjiQXo4HpdzTyOyf8kk0gxJMuC 0.717396740670035 6Cbbuc4oEsKEamZV95E6QRbTil7Um1msOpiYhG3k48JSTn8khYzkYGNFlA3Bkb4b4qrBaN5FIU9Yod 0.7641062460672605 ol6YsXMUh7tHSS7ctw3Dr2k6OxzrTcVfqASLUaab2c1jkTkueAa0R1VTPbkLvpaf4NBJ0xJtXisCxOT 0.6760351577196434 eVWMe7OuN8KIeuDjBh7TfZOXFUrbLTpg6zzKmYiJntxW8OuwGYqycbPLKBtYMKXELwZv9kzw0swgxy6e 0.9010545992763036 2PtS9iw0FLEabRO55o4PwbcjHwN4hOm7DUzZvUc2j8aw8l7RCWsaHPJ99BBaRQ4Ge0Ppec5P7E08a4tY2 0.25194249407013064 tthUTNF1da3ieGXDLzd22Lk8LIWB00J5swLfgLquKGwrbHCi2eoNIq8llv9CrXeuob4GjTVr1CsSgNLkF5 0.20703796772614028 neVOewqDbyrfiQ9bPf0Pm1wz5G6i4iAeVH50H9FOJ2ZBhh89C0Jj6zCPQdNd5eQ2ik4LvEfk5xJiggnB5NY 0.7123415175417166 sd0s67QTKmG1hbTJEg347ckJ6XyxX2FyypCFCV1vPYDIDJi6SqUhFgfSZBSFpQ2IzTsL1tJZqnh0NXHHJ3Y9 0.722997449675108 ffDhbMUED1bhitUPN95YomLoaiSHVfuO4cgCbKvIyzPS4IfGg0VAPn9rAnuUSwQJU9LItAp51LJDsaFDARQnA 0.2772127656625643 ttoKHSafHiTJCmf19oPTFW1R2G3XBgTeW7LlXOGW7CxNg1cFY9FA701B0fzzMAa7FObZA2ivxl8mWNEiwp4ui2 0.8409035428617632 5b27WMkUwGSUiGVZ5TmFQrTVvKtHjo9OB7JNDObnqnJzOLYfQZBQB6pNGqHen9EL0o9oBy4aWJrZbti6d8CGFDJ 0.5999424991197616 nO0tny0knF8DBOAydZtfF7qvb384UleUWWQ6PDiQZWZHlUZUPhOGxjmqZ7gWj7xlE7IBDLrVXtHETXWHNu7pZs27 0.7557682105134094 HUtNP2pXY0SkNAK05u51RUCdcmDRl2eK1JSTs5zmLE1tMyq9gqDAkknuVzAPqA3p1kdhBqGmaXRJvqTrpeEWviw4e 0.42304861844659253 8to3z1JSH1UekYqet6D1IwVZVvGcWYiY1MotIhH89xEp2sUDBKFFqnCoo5yLoIljWurEqjUSWBiARt3M56uMPNMEZC 0.391529700435479 4PWtg10EoNJHy4MlcQtJE5yLOP3AWryYZyDo3k2vh95gxDWYqPCTdngRVbohEdCFwhUy2HJZpep8Avp5a6QQinNI5Oy 0.7445544417689343 2uiZI6q5kxMOR949LsW5MrvCblF3U1fOK2HijcmlA1Mp6BJwHrt74323BhLPLkIBJt4h6x249hF51OJmiiH3QKnUhVTM 0.9683568603211813 aYS09KjUj5bgXtZ3EreGziMGamNQuQcD6qtRxHnipfkQFY9LE4dIXdqzcG4xBK5x33qRcC74yNU6YNiD4x3IBmNqnau4N 0.7050533880037504 aR3YuievqfrrUPdsRhNDMGcuLCzk0imWxLTyurtL4XG0cALIITxqiNUvVsxj86Gt7WlRRiV15MIwJshW74BNzq0O3tVgv8 0.1345520672083609 dEZgQ4656Y8i63MfQiS5hQkriWS3O8D2AB6lFahv0LVgdPkC4ijDcft2d5J3gFbNDyBIMefd0XdMLCEIiB2AKC0MJDhXJqC 0.2890897720535704 wyL5h3DmC5qMwHIddOrMEGIslgU00zGA9SwSVvlIMvnVu9GpQ6YAKkUB4iu1oNZBmPlQnj0vUwHIrXesQYYJ2lyQrGaUijGi 0.29280417519286467 V9FdujUbPqmxmH7ewslGjSh7kzgLrrs94j264H4yoLt1fTmW7GEBNpxChw6Hc8LXaBKKHZFgrZC0SSjTDA8OMbJs85EbQJq2I 0.5538019158662306 f1jjZN4EVtrejOXU5vvy5qpeokc64dO0gSLZHvVRcb7fdIdkOSghyidE2gUVeNerImBJVFqThOXNN1b99zV01DDoKNEo7oMfSw 0.2482410353833069 La75OX9c5mhkbB0d3tcDAo0baYtMDQo7htttt0rtUyIiWVhNNReFR0DhaC6RT0MEQsHbvNGkViaKd9S36ToC1fkyuJiS37dR7Bv 0.11423468269139281 K7eNwV3KWc4IvoIFm4Lk8dw7ifHCtjYBCvjfxyAFiP4goN4o9pD42kUzJdCa0l0KTKL5yt1jhkPWW6FLT9m7JUDA2apIo20EqYK2 0.8215341064247927 ThNtjIQ5U6pGVPYpmPBfnptaLpPoRJ8fJpDcsGpb0sOjpOIDHQaBisrQdtymwocIICtQjp2K1THChp7ks14uXKjs4NqTjK9Vq18PW 0.41497675907564197 8PClpjK5TAvKOkllmWngV2ziPsR0dqInfBHDtiPVvAR08InVuTbAMh6kyZMg4nYBHqdK8rXhkpmgVtImYd9lcrzeecAtopNKbd3A3E 0.8564634522686077 G95eT7QchGcizNZR4e24MYqAr2hmJ4AYl8hKQ3HcGOnBQyl52G6FCiGRnkn0P0E3BamAULXtq8QV4rzHdOqwAazMcBpASBxudwbk9ML 0.09908977574626439 IPpIrX3ffqm3EfuXxCbvaw7Bs57H3O9oGE92qsxbjtUpdEdXmAOvcnUN5MORLVm2EYRiQrglXX3pMer1gpnlc1KKewfy3Jy6NROuLnoy 0.5840057221166817 IEmgf" --random-data 
    --command-key-pattern="R" --command-ratio 60 --command "ZREVRANGE __key__ 0 1 WITHSCORES" --command-key-pattern="R" --command-ratio 40
    --key-minimum=1 --key-maximum 10000 --hide-histogram
  resources:
    requests:
      cpus: '4'
      memory: 4g
tested-groups:
- sorted-set
priority: 12
